{"version":3,"names":["_reactNative","require","_checkCppVersion","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","NativeReanimated","constructor","native","arguments","length","global","__reanimatedModuleProxy","ReanimatedModule","NativeModules","installTurboModule","InnerNativeModule","console","error","checkCppVersion","installCoreFunctions","callGuard","valueUnpacker","makeShareableClone","shouldPersistRemote","makeSynchronizedDataHolder","valueRef","getDataSynchronously","ref","updateDataSynchronously","scheduleOnUI","shareable","registerSensor","sensorType","interval","iosReferenceFrame","handler","unregisterSensor","sensorId","registerEventHandler","eventHash","eventHandler","unregisterEventHandler","id","getViewProp","viewTag","propName","callback","configureLayoutAnimation","type","sharedTransitionTag","config","enableLayoutAnimations","flag","configureProps","uiProps","nativeProps","subscribeForKeyboardEvents","isStatusBarTranslucent","unsubscribeFromKeyboardEvents","listenerId","exports"],"sources":["NativeReanimated.ts"],"sourcesContent":["import { NativeModules } from 'react-native';\nimport {\n  ShareableRef,\n  ShareableSyncDataHolderRef,\n  Value3D,\n  ValueRotation,\n} from '../commonTypes';\nimport {\n  LayoutAnimationFunction,\n  LayoutAnimationType,\n} from '../layoutReanimation';\nimport { checkCppVersion } from '../platform-specific/checkCppVersion';\n\nexport class NativeReanimated {\n  native: boolean;\n  private InnerNativeModule: any;\n\n  constructor(native = true) {\n    if (global.__reanimatedModuleProxy === undefined && native) {\n      const { ReanimatedModule } = NativeModules;\n      ReanimatedModule?.installTurboModule();\n    }\n    this.InnerNativeModule = global.__reanimatedModuleProxy;\n    this.native = native;\n    if (native) {\n      if (this.InnerNativeModule === undefined) {\n        console.error(\n          `[Reanimated] The native part of Reanimated doesn't seem to be initialized. This could be caused by\\n\\\n  - not rebuilding the app after installing or upgrading Reanimated\\n\\\n  - trying to run Reanimated on an unsupported platform\\n\\\n  - running in a brownfield app without manually initializing the native library`\n        );\n        return;\n      }\n      checkCppVersion();\n    }\n  }\n\n  installCoreFunctions(\n    callGuard: <T extends Array<any>, U>(\n      fn: (...args: T) => U,\n      ...args: T\n    ) => void,\n    valueUnpacker: <T>(value: T) => T\n  ): void {\n    return this.InnerNativeModule.installCoreFunctions(\n      callGuard,\n      valueUnpacker\n    );\n  }\n\n  makeShareableClone<T>(\n    value: T,\n    shouldPersistRemote: boolean\n  ): ShareableRef<T> {\n    return this.InnerNativeModule.makeShareableClone(\n      value,\n      shouldPersistRemote\n    );\n  }\n\n  makeSynchronizedDataHolder<T>(\n    valueRef: ShareableRef<T>\n  ): ShareableSyncDataHolderRef<T> {\n    return this.InnerNativeModule.makeSynchronizedDataHolder(valueRef);\n  }\n\n  getDataSynchronously<T>(ref: ShareableSyncDataHolderRef<T>): T {\n    return this.InnerNativeModule.getDataSynchronously(ref);\n  }\n\n  updateDataSynchronously<T>(\n    ref: ShareableSyncDataHolderRef<T>,\n    value: T\n  ): void {\n    this.InnerNativeModule.updateDataSynchronously(ref, value);\n  }\n\n  scheduleOnUI<T>(shareable: ShareableRef<T>) {\n    return this.InnerNativeModule.scheduleOnUI(shareable);\n  }\n\n  registerSensor<T>(\n    sensorType: number,\n    interval: number,\n    iosReferenceFrame: number,\n    handler: ShareableRef<T> | ((data: Value3D | ValueRotation) => void)\n  ) {\n    return this.InnerNativeModule.registerSensor(\n      sensorType,\n      interval,\n      iosReferenceFrame,\n      handler\n    );\n  }\n\n  unregisterSensor(sensorId: number) {\n    return this.InnerNativeModule.unregisterSensor(sensorId);\n  }\n\n  registerEventHandler<T>(\n    eventHash: string,\n    eventHandler: ShareableRef<T>\n  ): string {\n    return this.InnerNativeModule.registerEventHandler(eventHash, eventHandler);\n  }\n\n  unregisterEventHandler(id: string): void {\n    return this.InnerNativeModule.unregisterEventHandler(id);\n  }\n\n  getViewProp<T>(\n    viewTag: string,\n    propName: string,\n    callback?: (result: T) => void\n  ): Promise<T> {\n    return this.InnerNativeModule.getViewProp(viewTag, propName, callback);\n  }\n\n  configureLayoutAnimation(\n    viewTag: number,\n    type: LayoutAnimationType,\n    sharedTransitionTag: string,\n    config: ShareableRef<Keyframe | LayoutAnimationFunction>\n  ) {\n    this.InnerNativeModule.configureLayoutAnimation(\n      viewTag,\n      type,\n      sharedTransitionTag,\n      config\n    );\n  }\n\n  enableLayoutAnimations(flag: boolean): void {\n    this.InnerNativeModule.enableLayoutAnimations(flag);\n  }\n\n  configureProps(uiProps: string[], nativeProps: string[]): void {\n    this.InnerNativeModule.configureProps(uiProps, nativeProps);\n  }\n\n  subscribeForKeyboardEvents(\n    handler: ShareableRef<number>,\n    isStatusBarTranslucent: boolean\n  ): number {\n    return this.InnerNativeModule.subscribeForKeyboardEvents(\n      handler,\n      isStatusBarTranslucent\n    );\n  }\n\n  unsubscribeFromKeyboardEvents(listenerId: number): void {\n    this.InnerNativeModule.unsubscribeFromKeyboardEvents(listenerId);\n  }\n}\n"],"mappings":"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"}