{"version":3,"names":["_core","require","_FrameCallbackRegistryUI","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","FrameCallbackRegistryJS","constructor","prepareUIRegistry","registerFrameCallback","callback","callbackId","nextCallbackId","runOnUI","global","_frameCallbackRegistry","unregisterFrameCallback","manageStateFrameCallback","state","exports","default"],"sources":["FrameCallbackRegistryJS.ts"],"sourcesContent":["import { runOnUI } from '../core';\nimport { FrameInfo, prepareUIRegistry } from './FrameCallbackRegistryUI';\n\nexport default class FrameCallbackRegistryJS {\n  private nextCallbackId = 0;\n\n  constructor() {\n    prepareUIRegistry();\n  }\n\n  registerFrameCallback(callback: (frameInfo: FrameInfo) => void): number {\n    if (!callback) {\n      return -1;\n    }\n\n    const callbackId = this.nextCallbackId;\n    this.nextCallbackId++;\n\n    runOnUI(() => {\n      'worklet';\n      global._frameCallbackRegistry.registerFrameCallback(callback, callbackId);\n    })();\n\n    return callbackId;\n  }\n\n  unregisterFrameCallback(callbackId: number): void {\n    runOnUI(() => {\n      'worklet';\n      global._frameCallbackRegistry.unregisterFrameCallback(callbackId);\n    })();\n  }\n\n  manageStateFrameCallback(callbackId: number, state: boolean): void {\n    runOnUI(() => {\n      'worklet';\n      global._frameCallbackRegistry.manageStateFrameCallback(callbackId, state);\n    })();\n  }\n}\n"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,wBAAA,GAAAD,OAAA;AAAyE,SAAAE,gBAAAC,GAAA,EAAAC,GAAA,EAAAC,KAAA,IAAAD,GAAA,GAAAE,cAAA,CAAAF,GAAA,OAAAA,GAAA,IAAAD,GAAA,IAAAI,MAAA,CAAAC,cAAA,CAAAL,GAAA,EAAAC,GAAA,IAAAC,KAAA,EAAAA,KAAA,EAAAI,UAAA,QAAAC,YAAA,QAAAC,QAAA,oBAAAR,GAAA,CAAAC,GAAA,IAAAC,KAAA,WAAAF,GAAA;AAAA,SAAAG,eAAAM,GAAA,QAAAR,GAAA,GAAAS,YAAA,CAAAD,GAAA,2BAAAR,GAAA,gBAAAA,GAAA,GAAAU,MAAA,CAAAV,GAAA;AAAA,SAAAS,aAAAE,KAAA,EAAAC,IAAA,eAAAD,KAAA,iBAAAA,KAAA,kBAAAA,KAAA,MAAAE,IAAA,GAAAF,KAAA,CAAAG,MAAA,CAAAC,WAAA,OAAAF,IAAA,KAAAG,SAAA,QAAAC,GAAA,GAAAJ,IAAA,CAAAK,IAAA,CAAAP,KAAA,EAAAC,IAAA,2BAAAK,GAAA,sBAAAA,GAAA,YAAAE,SAAA,4DAAAP,IAAA,gBAAAF,MAAA,GAAAU,MAAA,EAAAT,KAAA;AAE1D,MAAMU,uBAAuB,CAAC;EAG3CC,WAAWA,CAAA,EAAG;IAAAxB,eAAA,yBAFW,CAAC;IAGxB,IAAAyB,0CAAiB,GAAE;EACrB;EAEAC,qBAAqBA,CAACC,QAAwC,EAAU;IACtE,IAAI,CAACA,QAAQ,EAAE;MACb,OAAO,CAAC,CAAC;IACX;IAEA,MAAMC,UAAU,GAAG,IAAI,CAACC,cAAc;IACtC,IAAI,CAACA,cAAc,EAAE;IAErB,IAAAC,aAAO,EAAC,MAAM;MACZ,SAAS;;MACTC,MAAM,CAACC,sBAAsB,CAACN,qBAAqB,CAACC,QAAQ,EAAEC,UAAU,CAAC;IAC3E,CAAC,CAAC,EAAE;IAEJ,OAAOA,UAAU;EACnB;EAEAK,uBAAuBA,CAACL,UAAkB,EAAQ;IAChD,IAAAE,aAAO,EAAC,MAAM;MACZ,SAAS;;MACTC,MAAM,CAACC,sBAAsB,CAACC,uBAAuB,CAACL,UAAU,CAAC;IACnE,CAAC,CAAC,EAAE;EACN;EAEAM,wBAAwBA,CAACN,UAAkB,EAAEO,KAAc,EAAQ;IACjE,IAAAL,aAAO,EAAC,MAAM;MACZ,SAAS;;MACTC,MAAM,CAACC,sBAAsB,CAACE,wBAAwB,CAACN,UAAU,EAAEO,KAAK,CAAC;IAC3E,CAAC,CAAC,EAAE;EACN;AACF;AAACC,OAAA,CAAAC,OAAA,GAAAd,uBAAA"}